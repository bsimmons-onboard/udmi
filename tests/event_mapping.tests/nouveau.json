//
// This message represents an output from the mapper for the mapping of a particular device.
//
// Note that the building and device_id are included as part of the message envelope.
//
{
  "version": "1.4.1",
  "timestamp": "2018-08-26T21:39:29.364Z",
  // DeviceID is defined by the message envelope: "fcu-8_1"
  "entity_guid": "b3964996-17f8-41b3-a761-e961f94d6760",
  "entity_type": "HVAC/FCU_DFSS_DSP_CHWZC",
  "device_num_id": "3607425",
  "connections": {
    "dea1fcd5-6942-47a2-ba75-448a7ed47fd7": "CONTAINS",
    "7e39af7a-9135-4e06-bbf8-bcd671b67ed6": "CONTAINS",
    "98d597ab-1183-4cfc-803e-728ec55cae39": "CONTAINS"
  },
  "translation": {
    "zone_air_temperature_sensor": {
      "present_value": {
        // TAP: Make structure parallel with units
        "path": "data.analog-input_4.present-value"
      },
      "units": {
        // TAP change 'key' to 'path'
        "path": "data.analog-input_4.units",
        "values": {
          // TAP: What does this translation mapping mean?
          "degrees_fahrenheit": "degrees-fahrenheit"
        }
      }
    },
    "discharge_fan_run_command": {
      // TAP: Map missing fields as empty translations (no path)
    },
    "zone_air_heating_temperature_setpoint": {
    }
  },
  // What does ML do with a ROOM?
  "entities": {
    // Not sure what this is -- how many of there will these be?
    "98d597ab-1183-4cfc-803e-728ec55cae39": {
      // TAP: What still need to understand how we think about and map rooms or other spaces
      "code": "US-SVL-MP2-8-Rm-8F7",
      "type": "FACILITIES/ROOM",
      "connections": {
        "dea1fcd5-6942-47a2-ba75-448a7ed47fd7": "CONTAINS",
        "7e39af7a-9135-4e06-bbf8-bcd671b67ed6": "CONTAINS"
      },
      "links": {
        "5cdde161-6517-4152-b3a6-211acc7a5b89": {
          "supply_air_damper_position_command": "supply_air_damper_command_1",
          "zone_air_temperature": "zone_air_temperature_sensor_1"
        }
      },
      "translation": {
        "zone_air_temperature_sensor": {
          "present_value": "points.temp_1.present_value",
          "units": {
            "key": "pointset.points.temp_1.units",
            "values": {
              "degrees_celsius": "degC"
            }
          }
        },
        "supply_air_isolation_damper_command": {
          "present_value": "points.damper_1.present_value",
          "states": {
            "OPEN": "1",
            "CLOSED": [
              "2",
              "3"
            ]
          }
        }
      }      
    },
  }
}
